[pytest]
pythonpath = src
# Test markers
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (requires external services)
    smoke: Smoke tests (critical path only)
    slow: Slow tests (>5 seconds)
    browser: Tests requiring browser
    llm: Tests requiring LLM API calls
    expensive: Tests that cost money (LLM API)

# Async support
asyncio_mode = auto

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output
addopts =
    -ra
    --strict-markers
    --strict-config
    --showlocals
    --tb=short

# Coverage (optional)
# --cov=.
# --cov-report=html

filterwarnings =
    ignore::DeprecationWarning:pytest_asyncio.plugin
    ignore::DeprecationWarning:google.genai._api_client
    ignore::DeprecationWarning:torch.utils.data._utils.pin_memory
    ignore::DeprecationWarning:supervision.annotators.core
